# 7.1 全局内存的合并与非合并访问

## 全局内存访问的基础知识
* 一次数据传输处理的数据量默认情况下为32byte。
* 一次数据传输中全局内存的内存首地址必须是最小粒度（32字节）的整数倍。
* 使用CUDA runtime API分配的内存首地址至少是256字节的整数倍。
  
## 合并度
* 合并度=线程束（32个线程一组）请求的字节数除以由该请求导致的所有数据传输处理的字节数。合并访问：合并度=100%。
* 譬如一个线程束需要访问单精度浮点数，就需要访问4byte*32=128字节数据，最少需要4次数据传输（对应合并访问的情况）。
* 注意，线程索引与内存索引不对齐不代表非合并访问，譬如线程0访问内存1，线程1访问内存0，线程2访问内存3，线程3访问内存2，如此类推，这种情况下第一个线程束（线程id从0到31）依然访问内存索引0到31（内存0为256字节整数倍），因此合并度依然是100%。
* 非合并访问的例子：内存索引=线程id+1（不对齐），内存索引=块id+线程id x 块尺寸（跨越式，注意，不是线程id+块id x 块尺寸），内存索引=常量（广播式，32个线程共同访问同样的4字节，但却要传输32字节）。
* 对写操作尽量采用合并访问，读操作由于对只读数据默认使用__lgd加载到缓存，减轻了全局内存访问的高延迟。
  
# 7.2 例子：矩阵转置
略
